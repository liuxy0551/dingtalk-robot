var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,n=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(a,t,n)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):a[t]=n,i=(e,a)=>{for(var t in a||(a={}))o.call(a,t)&&s(e,t,a[t]);if(n)for(var t of n(a))l.call(a,t)&&s(e,t,a[t]);return e},d=(e,n)=>a(e,t(n));import{a as r}from"./index.87ffface.js";import{n as c,o as p,t as u,D as b,T as g,r as m,c as f,d as j,F as v,q as y,w as I,p as h,a as O,b as S,s as w,e as C}from"./vendor.cb03d5aa.js";/* empty css              */const x={setup(){const e=localStorage.getItem("senderId"),a=c({tabSelected:"jijin",tabList:[{label:"基金",value:"jijin"},{label:"股票",value:"gupiao"}],result:{jijin:[],gupiao:[]}});p((()=>{t()}));const t=()=>{r.get(`/api/getMoneyInfos?senderId=${e}`).then((e=>{const{jijin:t,gupiao:n}=e.data;localStorage.setItem("moneyInfoCodes",t.concat(n).map((e=>e.code)).join(",")),a.result={jijin:t.map((e=>d(i({},e),{loading:!1}))),gupiao:n.map((e=>d(i({},e),{loading:!1})))}}))};return d(i({},u(a)),{onChange:e=>{a.tabSelected=e},deleteMoneyInfo:a=>{a.loading=!0,b.confirm({title:"删除自选",message:"确认删除该自选理财信息吗？"}).then((()=>{const n={senderId:e,code:a.code};r.post("/api/deleteMoneyInfo",n).then((()=>{t(),g("删除成功")})).finally((()=>{a.loading=!1}))})).catch((()=>{a.loading=!1}))}})}},P=I();h("data-v-239a858d");const k={class:"personal-content"},M={class:"top-search"},_={class:"box top-tab"},V={class:"row"},D={class:"text"},L=C("删除自选");O();const q=P(((e,a,t,n,o,l)=>{const s=m("van-tab"),i=m("van-tabs"),d=m("van-button");return S(),f("div",k,[j("div",M,[j(i,{modelValue:e.tabSelected,"onUpdate:modelValue":a[1]||(a[1]=a=>e.tabSelected=a),onChange:n.onChange},{default:P((()=>[(S(!0),f(v,null,y(e.tabList,(e=>(S(),f(s,{key:e.value,title:e.label,name:e.value},null,8,["title","name"])))),128))])),_:1},8,["modelValue","onChange"])]),j("div",_,[(S(!0),f(v,null,y(e.result[e.tabSelected],(e=>(S(),f("div",{class:"item",key:e.code},[j("div",V,[j("div",D,w(e.code)+" - "+w(e.name),1),j(d,{type:"warning",size:"mini",loading:e.loading,onClick:a=>n.deleteMoneyInfo(e)},{default:P((()=>[L])),_:2},1032,["loading","onClick"])])])))),128))])])}));x.render=q,x.__scopeId="data-v-239a858d";export default x;
