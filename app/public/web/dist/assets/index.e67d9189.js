var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o,i=(e,a)=>{for(var t in a||(a={}))n.call(a,t)&&s(e,t,a[t]);if(o)for(var t of o(a))l.call(a,t)&&s(e,t,a[t]);return e},d=(e,o)=>a(e,t(o));import{n as r,o as c,m as p,t as b,D as u,r as g,c as m,d as f,F as v,q as y,w as j,p as I,a as h,b as S,v as O,e as C}from"./vendor.e2c80a0b.js";import{a as k}from"./index.aa2c98da.js";const w={setup(){const e=localStorage.getItem("senderId"),a=r({tabSelected:"gupiao",tabList:[{label:"股票",value:"gupiao"},{label:"基金",value:"jijin"}],result:{jijin:[],gupiao:[]}});c((()=>{t()}));const t=()=>{p.loading({message:"加载中...",forbidClick:!0,loadingType:"spinner"}),k.post("/api/getMoneyInfos",{senderId:e}).then((e=>{const{jijin:t,gupiao:o}=e.data;localStorage.setItem("moneyInfoCodes",t.concat(o).map((e=>e.code)).join(",")),a.result={jijin:t.map((e=>d(i({},e),{loading:!1}))),gupiao:o.map((e=>d(i({},e),{loading:!1})))}})).finally((()=>{p.clear()}))};return d(i({},b(a)),{onChange:e=>{a.tabSelected=e},deleteMoneyInfo:a=>{a.loading=!0,u.confirm({title:"删除自选",message:"确认删除该自选理财信息吗？"}).then((()=>{const o={senderId:e,code:a.code};k.post("/api/deleteMoneyInfo",o).then((()=>{t(),p("删除成功")})).finally((()=>{a.loading=!1}))})).catch((()=>{a.loading=!1}))}})}},x=j();I("data-v-3d39f436");const P={class:"personal-content"},M={class:"top-search"},_={key:0,class:"box top-tab"},V={class:"row"},D={class:"text"},L=C("删除自选"),q={key:1,class:"box top-tab"};h();const z=x(((e,a,t,o,n,l)=>{const s=g("van-tab"),i=g("van-tabs"),d=g("van-button"),r=g("van-empty");return S(),m("div",P,[f("div",M,[f(i,{modelValue:e.tabSelected,"onUpdate:modelValue":a[1]||(a[1]=a=>e.tabSelected=a),onChange:o.onChange},{default:x((()=>[(S(!0),m(v,null,y(e.tabList,(e=>(S(),m(s,{key:e.value,title:e.label,name:e.value},null,8,["title","name"])))),128))])),_:1},8,["modelValue","onChange"])]),e.result[e.tabSelected]&&e.result[e.tabSelected].length?(S(),m("div",_,[(S(!0),m(v,null,y(e.result[e.tabSelected],(e=>(S(),m("div",{class:"item",key:e.code},[f("div",V,[f("div",D,O(e.code)+" - "+O(e.name),1),f(d,{type:"warning",size:"mini",loading:e.loading,onClick:a=>o.deleteMoneyInfo(e)},{default:x((()=>[L])),_:2},1032,["loading","onClick"])])])))),128))])):(S(),m("div",q,[f(r,{description:"暂无数据"})]))])}));w.render=z,w.__scopeId="data-v-3d39f436";export default w;
