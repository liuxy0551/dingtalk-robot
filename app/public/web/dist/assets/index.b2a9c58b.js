var e=Object.defineProperty,a=Object.defineProperties,t=Object.getOwnPropertyDescriptors,o=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,s=(a,t,o)=>t in a?e(a,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[t]=o;import{m as r,k as c,t as d,u as i,n as u,r as p,c as b,b as m,F as y,q as v,w as g,p as f,a as h,o as j,s as k,v as S,d as w}from"./vendor.845636c1.js";import{a as O}from"./index.50db2f2e.js";const C={setup(){const e=i(),{senderId:p}=e.query,b=r({tabSelected:"jijin",tabList:[{label:"基金",value:"jijin"},{label:"股票",value:"gupiao"}],keyword:"",result:[]});c((()=>{}));return m=((e,a)=>{for(var t in a||(a={}))n.call(a,t)&&s(e,t,a[t]);if(o)for(var t of o(a))l.call(a,t)&&s(e,t,a[t]);return e})({},d(b)),a(m,t({onChange:e=>{b.keyword="",b.result=[],b.tabSelected=e},onSearch:e=>{O.get(`http://suggest3.sinajs.cn/suggest/key=${e}&name=callbackCode`).then((e=>{let a=[];e.split(";").forEach((e=>{e=e.split(","),a.push({code:e["jijin"===b.tabSelected?2:3],name:e[6],loading:!1})})),b.result=a}))},createMoneyInfo:e=>{e.loading=!0;const a={senderId:p,type:b.tabSelected,name:e.name,code:e.code};O.post("/api/createMoneyInfo",a).then((e=>{console.log(222,e)})),setTimeout((()=>{u("添加成功"),e.loading=!1}),500)}}));var m}},I=g();f("data-v-36ae482c");const V={class:"money-content"},P={class:"top-search"},x={class:"box"},_={key:0,class:"row"},M={class:"text"},q=w("添加自选");h();const E=I(((e,a,t,o,n,l)=>{const s=p("van-tab"),r=p("van-tabs"),c=p("van-search"),d=p("van-button");return j(),b("div",V,[m("div",P,[m(r,{type:"card",modelValue:e.tabSelected,"onUpdate:modelValue":a[1]||(a[1]=a=>e.tabSelected=a),onChange:o.onChange},{default:I((()=>[(j(!0),b(y,null,v(e.tabList,(e=>(j(),b(s,{key:e.value,title:e.label,name:e.value},null,8,["title","name"])))),128))])),_:1},8,["modelValue","onChange"]),m(c,{modelValue:e.keyword,"onUpdate:modelValue":a[2]||(a[2]=a=>e.keyword=a),placeholder:"请输入简称/拼音/代码",onSearch:o.onSearch},null,8,["modelValue","onSearch"])]),m("div",x,[(j(!0),b(y,null,v(e.result,(e=>(j(),b("div",{class:"item",key:e.code},[e.code&&e.name?(j(),b("div",_,[m("div",M,k(e.code)+" - "+k(e.name),1),m(d,{type:"primary",size:"mini",loading:e.loading,onClick:a=>o.createMoneyInfo(e)},{default:I((()=>[q])),_:2},1032,["loading","onClick"])])):S("",!0)])))),128))])])}));C.render=E,C.__scopeId="data-v-36ae482c";export default C;
